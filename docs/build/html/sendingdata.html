
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Connecting RN2903a module to the Things Network &#8212; lorawan  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="MQTT Paho" href="mqttpaho.html" />
    <link rel="prev" title="Things Network" href="thingsnetwork.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="mqttpaho.html" title="MQTT Paho"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="thingsnetwork.html" title="Things Network"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">lorawan  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="connecting-rn2903a-module-to-the-things-network">
<h1><strong>Connecting RN2903a module to the Things Network</strong><a class="headerlink" href="#connecting-rn2903a-module-to-the-things-network" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Open a new terminal on Windows.</p></li>
<li><p>Go to the directory where you have donwloaded the RN2903 code using the ‘cd’ command.</p></li>
<li><p>A python script called OTAAsample.py is written to join to the Things Network using OTAA(Over the Air Activation). You can see the script in the image below.</p></li>
</ul>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="_images/pic13.png"><img alt="Alternative text" src="_images/pic13.png" style="width: 800px; height: 400px;" /></a>
<p class="caption"><span class="caption-text">OTAAsample.py python script</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<ul class="simple">
<li><p>In OTAAsample.py script, you need to change few things.</p>
<ol class="arabic simple">
<li><p>You need to <strong>change the argument of the open funtion</strong>. Change the argument to the serial port to which your RN2903 module is connected to. In my case, it is ‘COM3’. You can find out to which port the RN2903 module is connected to by going to device manager and goings to ports section.</p></li>
<li><p>Then you need to change the <strong>appEUI</strong> and <strong>appKey</strong>. You can find this by going to your registered device page and going to the bottom of the page as you can see in the image below.</p></li>
</ol>
</li>
</ul>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="_images/pic12.png"><img alt="Alternative text" src="_images/pic12.png" style="width: 800px; height: 400px;" /></a>
<p class="caption"><span class="caption-text">Getting appEUI and appKey</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="what-does-otaasample-py-script-do-and-how-to-run-this-script">
<h2><strong>What does OTAAsample.py script do? and how to run this script</strong><a class="headerlink" href="#what-does-otaasample-py-script-do-and-how-to-run-this-script" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>You open a connection to the RN2903 module using the <strong>open function</strong> in the rn2903 library.</p></li>
<li><p>You set the <strong>appEUI</strong> and <strong>appKey</strong> of the application on Things Network to which you want to send the data from your rn2903 module.</p></li>
<li><p>You set the <strong>power to 14</strong> using the <strong>setPwr function</strong>.</p></li>
<li><p>Use the <strong>appEUI</strong> and <strong>appKey</strong> as arguments to <strong>joinOTAA function</strong> to connect your RN2903 module to the desired application on the Things Network.</p></li>
<li><p>Then you use a function from the RN2903 library called the <strong>macSend funtion</strong> to send the data from the RN2903 module to the Things Netowrk. In our case, we have sent the packet with the <strong>payload “1234”</strong> to the Things Network first.</p></li>
<li><p>Then in an infinte loop we are sending the packets with <strong>payload “ABCD”</strong> to the Things Network with an inter arrival time of 3 seconds.</p></li>
</ol>
</div>
<div class="section" id="running-the-otaasample-py-script">
<h2><strong>Running the OTAAsample.py script.</strong><a class="headerlink" href="#running-the-otaasample-py-script" title="Permalink to this headline">¶</a></h2>
<p>Now go ahead and open a terminal on windows and run this command -&gt; <strong>python OTAAsample.py</strong></p>
</div>
<div class="section" id="observing-the-packet-reception-from-rn2903-module-on-the-things-network">
<h2><strong>Observing the packet reception from rn2903 module on the Things Network</strong><a class="headerlink" href="#observing-the-packet-reception-from-rn2903-module-on-the-things-network" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Go to <strong>Things Network website</strong> and go to your <strong>Console</strong>.</p></li>
<li><p>Then click on <strong>Applications</strong>.</p></li>
<li><p>Go to your application and scroll down and go to <strong>registered devices</strong> section and select your device.</p></li>
<li><p>On the right top, you can find the tab that says <strong>Data</strong>. Click on it.</p></li>
<li><p>Once you click on the <strong>Data</strong> tab and if you are running the <strong>OTAAsample.py script</strong>, then you can see the packets being sent to the <strong>LoraWAN gateway</strong> with payload <strong>1234</strong> and <strong>ABCD</strong>.</p>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="_images/pic14.png"><img alt="Alternative text" src="_images/pic14.png" style="width: 800px; height: 400px;" /></a>
<p class="caption"><span class="caption-text">Data sent from RN2903 module to cciloragateway</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>At the same time you can see messages saying packet are sent and <strong>Signal to Noise Ratio(SNR)</strong> on the Windows terminal where you are running OTAAsample.py script.</p></li>
<li><p>Now we can go to the <strong>LoraWAN</strong> gateway and check whether the packets are being received successfully.</p></li>
<li><p>Go to <strong>Console-&gt;Gateways</strong>.</p></li>
<li><p>Now click on <strong>Traffic</strong> tab on the <strong>right corner of your window</strong>.</p>
<div class="figure align-center" id="id4">
<a class="reference internal image-reference" href="_images/pic15.png"><img alt="Alternative text" src="_images/pic15.png" style="width: 800px; height: 400px;" /></a>
<p class="caption"><span class="caption-text">Data received at cciloragateway</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>Now you can see that packets are successfully received at <strong>cciloragateway</strong> which were sent from the <strong>RN2903 module</strong>.</p></li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><strong>Connecting RN2903a module to the Things Network</strong></a><ul>
<li><a class="reference internal" href="#what-does-otaasample-py-script-do-and-how-to-run-this-script"><strong>What does OTAAsample.py script do? and how to run this script</strong></a></li>
<li><a class="reference internal" href="#running-the-otaasample-py-script"><strong>Running the OTAAsample.py script.</strong></a></li>
<li><a class="reference internal" href="#observing-the-packet-reception-from-rn2903-module-on-the-things-network"><strong>Observing the packet reception from rn2903 module on the Things Network</strong></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="thingsnetwork.html"
                        title="previous chapter"><strong>Things Network</strong></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="mqttpaho.html"
                        title="next chapter"><strong>MQTT Paho</strong></a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/sendingdata.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="mqttpaho.html" title="MQTT Paho"
             >next</a> |</li>
        <li class="right" >
          <a href="thingsnetwork.html" title="Things Network"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">lorawan  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Sukruth Babu.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.1.
    </div>
  </body>
</html>